# ğŸš€ Sistema de GeneraciÃ³n de MÃ³dulos - DEV

Sistema automatizado para la creaciÃ³n homologada de mÃ³dulos siguiendo arquitectura limpia (Clean Architecture) en Angular.

## ğŸ“‹ Ãndice

- [Inicio RÃ¡pido](#-inicio-rÃ¡pido)
- [Arquitectura](#-arquitectura)
- [Comandos Disponibles](#-comandos-disponibles)
- [Flujos de Trabajo](#-flujos-de-trabajo)
- [Convenciones](#-convenciones)

## ğŸš€ Inicio RÃ¡pido

```bash
# Ejecutar el menÃº principal
./dev.sh

# Ver ayuda completa
./commands/help.sh
```

## ğŸ—ï¸ Arquitectura

El proyecto sigue una arquitectura de 3 capas:

### Domain Layer (Reglas de negocio)
```
domain/
â”œâ”€â”€ models/           # Entidades del dominio
â”œâ”€â”€ repositories/     # Interfaces de repositorios (contratos)
â””â”€â”€ mappers/         # Transformadores DTO â†” Model
```

### Infrastructure Layer (ImplementaciÃ³n tÃ©cnica)
```
infrastructure/
â”œâ”€â”€ dto/             # Data Transfer Objects
â”œâ”€â”€ repositories/    # Implementaciones de repositorios
â””â”€â”€ services/        # Servicios HTTP
```

### Application Layer (Casos de uso)
```
application/
â””â”€â”€ use-cases/       # LÃ³gica de aplicaciÃ³n
```

## ğŸ“¦ Comandos Disponibles

### MenÃº Principal - `./dev.sh`

MenÃº interactivo con todas las opciones:

1. **ğŸ“¦ Crear Modelo** - Models + DTOs + Mappers
2. **ğŸ”§ Crear Servicio** - Service con auto-detecciÃ³n de Mapper
3. **ğŸ—„ï¸ Crear Repositorio** - Repository Domain + Implementation
4. **ğŸ¯ Crear MÃ³dulo Completo** - Flujo completo automatizado
5. **ğŸ”„ Crear Use Case** - Casos de uso con auto-detecciÃ³n de Repository
6. **ğŸ“‹ Ver Estructura** - Visualiza la arquitectura
7. **âœ… Validar Estructura** - Valida y muestra estadÃ­sticas
8. **ğŸ” Inspeccionar MÃ³dulo** - Analiza un mÃ³dulo especÃ­fico
9. **ğŸ§¹ Limpiar MÃ³dulo** - Elimina un mÃ³dulo completo
0. **âŒ Salir**

### Comandos Individuales

#### `./commands/model.sh`
Crea modelos con opciones configurables:
- Request/Response o Model simple
- DTOs opcionales
- Mappers opcionales

#### `./commands/service.sh`
Crea servicios con:
- Auto-detecciÃ³n de Mappers
- IntegraciÃ³n con HttpService

#### `./commands/repository.sh`
Crea repositorios con:
- Interface en Domain Layer
- Implementation en Infrastructure Layer
- Auto-detecciÃ³n de Models y Services
- Auto-actualizaciÃ³n de `app.config.ts`

#### `./commands/usecase.sh`
Crea casos de uso con:
- Auto-detecciÃ³n de Repositories
- InyecciÃ³n de dependencias automÃ¡tica

#### `./commands/validate.sh`
Valida la estructura del proyecto:
- Cuenta archivos por tipo
- Lista mÃ³dulos disponibles
- Muestra componentes de cada mÃ³dulo

#### `./commands/inspect.sh`
Inspecciona un mÃ³dulo especÃ­fico:
- Lista todos los archivos
- Muestra exports y clases
- Verifica configuraciÃ³n en app.config.ts

#### `./commands/help.sh`
Muestra documentaciÃ³n completa del sistema

## ğŸ”„ Flujos de Trabajo

### Crear MÃ³dulo Completo (Recomendado)

El flujo automatizado crea todo en el orden correcto:

```bash
./dev.sh
# OpciÃ³n 4: Crear MÃ³dulo Completo
```

**Paso 1:** CreaciÃ³n de Models
- Directorio: `auth`
- Archivo: `auth`
- Request: `SÃ­`
- Response: `SÃ­`
- DTO: `SÃ­`
- Mapper: `SÃ­`

**Paso 2:** CreaciÃ³n de Service
- Usa el mismo directorio/archivo
- Auto-detecta y usa el Mapper creado

**Paso 3:** CreaciÃ³n de Repository
- Usa el mismo directorio/archivo
- Auto-detecta Models y Service
- Genera mÃ©todos automÃ¡ticamente
- Actualiza `app.config.ts`

### Crear Componentes Individuales

Para mayor control, crea en este orden:

```bash
# 1. Models (base del mÃ³dulo)
./commands/model.sh

# 2. Service (lÃ³gica HTTP)
./commands/service.sh

# 3. Repository (interfaz del dominio)
./commands/repository.sh

# 4. Use Cases (opcional - casos de uso especÃ­ficos)
./commands/usecase.sh
```

## ğŸ“ Convenciones

### Nomenclatura

| Elemento | ConvenciÃ³n | Ejemplo |
|----------|-----------|---------|
| Directorio | kebab-case | `auth`, `user-profile` |
| Archivo | kebab-case | `auth`, `user-profile` |
| Clase Model | PascalCase + Model | `AuthModel` |
| Clase DTO | PascalCase + Dto | `AuthDto` |
| Clase Service | PascalCase + Service | `AuthService` |
| Clase Repository | PascalCase + Repository | `AuthRepository` |
| Clase Use Case | PascalCase + UseCase | `LoginUseCase` |

### Estructura de Archivos

#### Request/Response Pattern
```
domain/models/auth/
â”œâ”€â”€ request/
â”‚   â””â”€â”€ auth-request.model.ts
â””â”€â”€ response/
    â””â”€â”€ auth-response.model.ts

infrastructure/dto/
â”œâ”€â”€ request/
â”‚   â””â”€â”€ auth-request.dto.ts
â””â”€â”€ response/
    â””â”€â”€ auth-response.dto.ts

domain/mappers/auth/
â””â”€â”€ auth.mapper.ts
```

#### Simple Pattern
```
domain/models/auth/
â””â”€â”€ auth.model.ts

infrastructure/dto/
â””â”€â”€ auth.dto.ts

domain/mappers/auth/
â””â”€â”€ auth.mapper.ts
```

## âœ¨ CaracterÃ­sticas

### Auto-detecciÃ³n
- âœ… Detecta Mappers existentes al crear Services
- âœ… Detecta Models y Services al crear Repositories
- âœ… Detecta Repositories al crear Use Cases
- âœ… Genera mÃ©todos automÃ¡ticamente basÃ¡ndose en Services

### Auto-configuraciÃ³n
- âœ… Actualiza `app.config.ts` automÃ¡ticamente
- âœ… Agrega imports necesarios
- âœ… Registra providers en DI

### ValidaciÃ³n
- âœ… Valida estructura del proyecto
- âœ… Cuenta archivos por tipo
- âœ… Verifica integridad de mÃ³dulos

### InspecciÃ³n
- âœ… Analiza mÃ³dulos especÃ­ficos
- âœ… Muestra exports y clases
- âœ… Detecta archivos huÃ©rfanos

## ğŸ¯ Ejemplos

### Ejemplo 1: MÃ³dulo de AutenticaciÃ³n

```bash
./dev.sh
# OpciÃ³n 4 (MÃ³dulo Completo)
# Directorio: auth
# Archivo: auth
# Request: s
# Response: s
# DTO: s
# Mapper: s
```

**Archivos creados:**
```
âœ“ domain/models/auth/request/auth-request.model.ts
âœ“ domain/models/auth/response/auth-response.model.ts
âœ“ infrastructure/dto/request/auth-request.dto.ts
âœ“ infrastructure/dto/response/auth-response.dto.ts
âœ“ domain/mappers/auth/auth.mapper.ts
âœ“ infrastructure/services/auth/auth.service.ts
âœ“ domain/repositories/auth/auth.repository.ts
âœ“ infrastructure/repositories/auth/auth.implementation.repository.ts
âœ“ app.config.ts (actualizado)
```

### Ejemplo 2: Use Case de Login

```bash
./dev.sh
# OpciÃ³n 5 (Crear Use Case)
# Directorio: auth
# Caso de uso: login
```

**Resultado:**
```typescript
// application/use-cases/auth/login.use-case.ts
@Injectable({ providedIn: 'root' })
export class LoginUseCase {
  constructor(private authRepository: AuthRepository) {}

  async execute(params?: any): Promise<any> {
    // TODO: Implementar lÃ³gica
  }
}
```

## ğŸ› ï¸ Mantenimiento

### Validar Proyecto
```bash
./commands/validate.sh
```

### Inspeccionar MÃ³dulo
```bash
./commands/inspect.sh
# MÃ³dulo: auth
```

### Limpiar MÃ³dulo
```bash
./dev.sh
# OpciÃ³n 9 (Limpiar MÃ³dulo)
# MÃ³dulo: auth
```

## ğŸ“š Recursos

- Ver estructura: OpciÃ³n 6 en menÃº principal
- Ayuda completa: `./commands/help.sh` o opciÃ³n `?` en menÃº
- Validar estructura: `./commands/validate.sh`
- Inspeccionar mÃ³dulo: `./commands/inspect.sh`

## ğŸ¤ ContribuciÃ³n

Para agregar nuevos generadores:
1. Crear script en `commands/`
2. Hacer ejecutable: `chmod +x commands/nuevo.sh`
3. Agregar al menÃº en `dev.sh`

## ğŸ“„ Licencia

Uso interno - SEO Bot AI Project

